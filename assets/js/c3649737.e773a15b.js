"use strict";(self.webpackChunkxdk_docs=self.webpackChunkxdk_docs||[]).push([[903],{3905:function(e,t,a){a.d(t,{Zo:function(){return m},kt:function(){return c}});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},m=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),d=u(a),c=o,f=d["".concat(l,".").concat(c)]||d[c]||p[c]||r;return a?n.createElement(f,s(s({ref:t},m),{},{components:a})):n.createElement(f,s({ref:t},m))}));function c(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,s=new Array(r);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var u=2;u<r;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6622:function(e,t,a){a.r(t),a.d(t,{assets:function(){return m},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return p}});var n=a(7462),o=a(3366),r=(a(7294),a(3905)),s=["components"],i={title:"Rotas",slug:"/app/structure/routes"},l=void 0,u={unversionedId:"app/structure/routes",id:"app/structure/routes",title:"Rotas",description:"ESTRUTURA",source:"@site/docs/app/structure/routes.md",sourceDirName:"app/structure",slug:"/app/structure/routes",permalink:"/docs/app/structure/routes",draft:!1,tags:[],version:"current",frontMatter:{title:"Rotas",slug:"/app/structure/routes"},sidebar:"docs/app",previous:{title:"Stores",permalink:"/docs/app/structure/stores"},next:{title:"Layouts",permalink:"/docs/app/structure/layouts"}},m={},p=[{value:"ESTRUTURA",id:"estrutura",level:2},{value:"ATRIBUTO DATA",id:"atributo-data",level:3},{value:"GUARDS",id:"guards",level:2},{value:"EXEMPLO DE UTILIZA\xc7\xc3O",id:"exemplo-de-utiliza\xe7\xe3o",level:2},{value:"LAYOUTS",id:"layouts",level:2}],d={toc:p};function c(e){var t=e.components,a=(0,o.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"estrutura"},"ESTRUTURA"),(0,r.kt)("p",null,"As rotas na XDK usam o padr\xe3o Angular com algumas op\xe7\xf5es extras que s\xe3o configuradas atrav\xe9s do atributo ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," .\nPara aplicar um layout a um conjunto de rotas, basta adicionar um item com ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," vazio e o componente de layout desejado. Os itens que\nestiverem como filhos dele herdar\xe3o o mesmo layout:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/app/app-routing.module.ts" showLineNumbers',title:'"/src/app/app-routing.module.ts"',showLineNumbers:!0},"import { DefaultLayoutComponent } from '@itix/components';\n\nimport { HomeComponent } from './views/home/home.component';\n\nexport const routes: Routes = [\n    { path: '', pathMatch: 'full', redirectTo: 'home' },\n\n    {\n        path: '',\n        component: DefaultLayoutComponent,\n        children: [\n            {\n                path: 'home',\n                component: HomeComponent\n            }\n        ]\n    }\n];\n")),(0,r.kt)("p",null,"No exemplo acima, ",(0,r.kt)("inlineCode",{parentName:"p"},"home")," e todos seus irm\xe3os e filhos herdar\xe3o do layout ",(0,r.kt)("inlineCode",{parentName:"p"},"DefaultLayoutComponent")," ."),(0,r.kt)("h3",{id:"atributo-data"},"ATRIBUTO DATA"),(0,r.kt)("p",null,"Para personalizar as rotas, voc\xea pode utilizar o atributo ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," e configurar conforme a necessidade. A estrutura completa desse atributo,\naceita pela XDK, \xe9:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"data: {\n    showChildrenInMenu: boolean,\n    showInMenu: boolean,\n    isSection: boolean,\n    isGroup: boolean,\n    title: string,\n    breadcrumb: string,\n    icon: string,\n    allowedClaims: string[],\n    isPrefix: boolean\n}                \n")),(0,r.kt)("p",null,"Explica\xe7\xe3o dos campos:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Propriedade"),(0,r.kt)("th",{parentName:"tr",align:null},"Descri\xe7\xe3o"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"showChildrenInMenu"),(0,r.kt)("td",{parentName:"tr",align:null},"Se verdadeiro, ir\xe1 incluir os filhos deste item no menu")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"showInMenu"),(0,r.kt)("td",{parentName:"tr",align:null},"Se verdadeiro, exibe o item atual no menu.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"isSection"),(0,r.kt)("td",{parentName:"tr",align:null},"Se verdadeiro, exibe o item atual como uma se\xe7\xe3o (agrupamento geral) de itens no menu. Pode conter itens ou agrupamentos.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"isGroup"),(0,r.kt)("td",{parentName:"tr",align:null},"Se verdadeiro, exibe o item atual como um grupo de itens. Pode conter itens.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xedtulo do item no menu.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"breadcrumb"),(0,r.kt)("td",{parentName:"tr",align:null},"T\xedtulo do item no breadcrumb.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"icon"),(0,r.kt)("td",{parentName:"tr",align:null},"\xcdcone do item no menu.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"allowedClaims"),(0,r.kt)("td",{parentName:"tr",align:null},"Claims/Roles que o usu\xe1rio precisa ter para acessar o item atual. Se ele tiver uma das claims/roles informadas na lista, ele poder\xe1 acessar a rota.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"isPrefix"),(0,r.kt)("td",{parentName:"tr",align:null},"Se verdadeiro, verifica se o usu\xe1rio tem alguma das claims/roles informadas como prefixo. Por exemplo, se informar ",(0,r.kt)("inlineCode",{parentName:"td"},"allowedClaims")," com o valor ",(0,r.kt)("inlineCode",{parentName:"td"},"['empresa']")," e marcar ",(0,r.kt)("inlineCode",{parentName:"td"},"isPrefix"),' como verdadeiro, se o usu\xe1rio tiver as claims/roles "empresa.adicionar" ou "empresa.consultar", ele ter\xe1 permiss\xe3o para acessar o item.')))),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Os campos de tipo boolean s\xf3 precisam ser informados se seu valor for verdadeiro. Caso contr\xe1rio, assumimos que seu valor \xe9 falso."))),(0,r.kt)("h2",{id:"guards"},"GUARDS"),(0,r.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel utilizar os guards que a XDK disponibiliza, ",(0,r.kt)("inlineCode",{parentName:"p"},"AuthGuard")," e ",(0,r.kt)("inlineCode",{parentName:"p"},"OnlyLoggedUsersGuard")," ."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"AuthGuard"),": Faz a valida\xe7\xe3o da permiss\xe3o do usu\xe1rio para a rota usando os campos ",(0,r.kt)("inlineCode",{parentName:"li"},"allowedClaims")," e ",(0,r.kt)("inlineCode",{parentName:"li"},"isPrefix"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"OnlyLoggedUsersGuard"),": Garante que o usu\xe1rio esteja logado para acessar a rota.")),(0,r.kt)("h2",{id:"exemplo-de-utiliza\xe7\xe3o"},"EXEMPLO DE UTILIZA\xc7\xc3O"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="/src/app/app-routing.module.ts" showLineNumbers',title:'"/src/app/app-routing.module.ts"',showLineNumbers:!0},"export const routes: Routes = [\n    { path: '', pathMatch: 'full', redirectTo: 'home' },\n\n    {\n        path: '',\n        component: DefaultLayoutComponent, // Usa o layout padr\xe3o.\n        // Garante que apenas usu\xe1rios logados tenha acesso \xe0 essa e \xe0s rotas filhas.\n        canActivate: [OnlyLoggedUsersGuard],\n        data: {\n            showChildrenInMenu: true // Exibe os filhos no menu.\n        },\n        children: [\n            {\n                path: 'home',\n                component: HomeComponent,\n                data: {\n                    showInMenu: true, // Exibe o item no menu\n                    title: 'Home', // com o t\xedtulo \"Home\"\n                    icon: 'fad fa-home' // e o \xedcone \"fad fa-home\".\n                }\n            },\n            {\n                path: '',\n                data: {\n                    isSection: true, // Exibe o item como uma se\xe7\xe3o\n                    title: 'Cadastros', // com o t\xedtulo \"Cadastros\"\n                    breadcrumb: 'Cadastros' // e exibe \"Cadastros\" no breadcrumb.\n                },\n                children: [\n                    {\n                        path: 'messages',\n                        // Garante que apenas usu\xe1rios com as permiss\xf5es informadas ter\xe3o acesso.\n                        canActivate: [AuthGuard],\n                        data: {\n                            showInMenu: true, // Exibe o item no menu\n                            title: 'Mensagens', // com o t\xedtulo \"Mensagens\"\n                            breadcrumb: 'Mensagens', // exibe \"Mensagens\" no breadcrumb\n                            icon: 'fad fa-comments-alt', // com o \xedcone \"fad fa-comments-alt\"\n                            // apenas para os usu\xe1rios com a(s) permiss\xe3o(\xf5es)\n                            allowedClaims: ['mensagem'],\n                            // e se o usu\xe1rio tiver alguma como prefixo (mensagem.editar)\n                            isPrefix: true\n                        },\n                        children: [\n                            {\n                                path: '',\n                                component: MessagesComponent,\n                                // Garante que apenas usu\xe1rios com as permiss\xf5es informadas\n                                // ter\xe3o acesso.\n                                canActivate: [AuthGuard],\n                                data: {\n                                    // Exibe \"Lista\" no breadcrumb\n                                    breadcrumb: 'Lista',\n                                    // apenas para os usu\xe1rios com a(s) permiss\xe3o(\xf5es).\n                                    allowedClaims: ['mensagem.consultar']\n                                }\n                            },\n                            {\n                                path: 'add',\n                                component: MessageFormComponent,\n                                canActivate: [AuthGuard],\n                                data: {\n                                    breadcrumb: 'Novo',\n                                    allowedClaims: ['mensagem.adicionar']\n                                }\n                            },\n                            {\n                                path: ':id',\n                                component: MessageFormComponent,\n                                canActivate: [AuthGuard],\n                                data: {\n                                    breadcrumb: 'Visualizar',\n                                    allowedClaims: ['mensagem.visualizar']\n                                }\n                            },\n                            {\n                                path: ':id/edit',\n                                component: MessageFormComponent,\n                                canActivate: [AuthGuard],\n                                data: {\n                                    breadcrumb: 'Editar',\n                                    allowedClaims: ['mensagem.editar']\n                                }\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    }\n];\n")),(0,r.kt)("h2",{id:"layouts"},"LAYOUTS"),(0,r.kt)("p",null,"Tamb\xe9m \xe9 poss\xedvel customizar o layout das rotas. A XDK fornece um conjunto pronto de layouts que podem ser utilizados. Veja mais na\np\xe1gina ",(0,r.kt)("a",{parentName:"p",href:"/docs/app/structure/layouts"},"Layouts")))}c.isMDXComponent=!0}}]);